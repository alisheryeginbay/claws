@import "tailwindcss";

@font-face {
  font-family: 'Fixedsys Excelsior';
  src: url('/fonts/FSEX302.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@theme inline {
  /* === Windows XP Luna Blue === */

  /* Game content (dark panels inside XP chrome) */
  --color-claw-bg: #0a0f1a;
  --color-claw-surface: #111827;
  --color-claw-surface-alt: #1e293b;
  --color-claw-border: #003C74;
  --color-claw-border-bright: #0054E3;

  /* XP Chrome Colors */
  --color-claw-coral: #0054E3;
  --color-claw-coral-mid: #003C74;
  --color-claw-coral-dark: #002B5C;
  --color-claw-green: #399639;
  --color-claw-green-dim: #277427;

  /* Accent colors */
  --color-claw-cyan: #0066CC;
  --color-claw-cyan-mid: #0054E3;
  --color-claw-blue: #0054E3;
  --color-claw-orange: #FF8C00;
  --color-claw-red: #E04040;
  --color-claw-purple: #7B68EE;
  --color-claw-yellow: #FFD700;

  /* Text */
  --color-claw-text: #000000;
  --color-claw-muted: #808080;
  --color-claw-dim: #A0A0A0;

  /* XP-specific */
  --color-xp-face: #ECE9D8;
  --color-xp-window: #FFFFFF;
  --color-xp-title-start: #0054E3;
  --color-xp-title-end: #3593FF;
  --color-xp-taskbar-start: #1C5FA0;
  --color-xp-taskbar-end: #3C8AD0;
  --color-xp-selection: #316AC5;
  --color-xp-desktop: #3B6EA5;

  /* Fonts */
  --font-mono: 'Lucida Console', 'Consolas', ui-monospace, monospace;
  --font-terminal: 'Fixedsys Excelsior', 'Lucida Console', 'Consolas', ui-monospace, monospace;
  --font-xp: 'Tahoma', 'Segoe UI', 'Arial', sans-serif;
  --font-xp-title: 'Trebuchet MS', 'Tahoma', 'Segoe UI', sans-serif;
}

/* === SCROLLBARS (XP classic) === */
* {
  scrollbar-width: auto;
  scrollbar-color: #C0C0C0 #ECE9D8;
}

*::-webkit-scrollbar {
  width: 16px;
  height: 16px;
}

*::-webkit-scrollbar-track {
  background: #ECE9D8;
}

*::-webkit-scrollbar-thumb {
  background: #C0C0C0;
  border: 1px solid #808080;
}

*::-webkit-scrollbar-thumb:hover {
  background: #A0A0A0;
}

*::-webkit-scrollbar-button {
  background: #ECE9D8;
  border: 1px solid #808080;
  height: 16px;
  width: 16px;
}

body {
  background: var(--color-xp-desktop);
  color: var(--color-claw-text);
  font-family: var(--font-xp);
  font-size: 11px;
  overflow: hidden;
}

::selection {
  background: #316AC5;
  color: #FFFFFF;
}

/* === XP UTILITY CLASSES === */

/* XP Title Bar — classic blue gradient */
.xp-titlebar {
  background: linear-gradient(180deg, #0058EE 0%, #3593FF 4%, #2B71D0 48%, #3B9AFF 50%, #1D5DB3 96%, #0053E8 100%);
  padding: 4px 6px;
  color: #FFFFFF;
  font-family: var(--font-xp-title);
  font-weight: bold;
  font-size: 13px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  display: flex;
  align-items: center;
  user-select: none;
  min-height: 26px;
}

/* XP Window — classic window frame */
.xp-window {
  background: var(--color-xp-face);
  border: 1px solid #0054E3;
  border-radius: 8px 8px 0 0;
  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  overflow: hidden;
}

/* XP Button — classic 3D beveled */
.xp-button {
  font-family: var(--font-xp);
  font-size: 11px;
  background: linear-gradient(180deg, #FFFFFF 0%, #ECE9D8 45%, #D6D2C2 100%);
  border: 1px solid #003C74;
  border-radius: 3px;
  padding: 3px 12px;
  color: #000000;
  cursor: pointer;
  box-shadow: inset 0 1px 0 #FFFFFF;
  transition: all 0.1s;
}

.xp-button:hover {
  background: linear-gradient(180deg, #FFFFFF 0%, #F0EDE1 45%, #DDD9C9 100%);
  border-color: #0054E3;
}

.xp-button:active {
  background: linear-gradient(180deg, #D6D2C2 0%, #ECE9D8 100%);
  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.xp-button:focus-visible {
  outline: 1px dotted #000000;
  outline-offset: -4px;
}

/* XP Input — classic inset border */
.xp-input {
  font-family: var(--font-xp);
  font-size: 11px;
  background: #FFFFFF;
  border: 1px solid #7F9DB9;
  border-top-color: #808080;
  border-left-color: #808080;
  padding: 3px 4px;
  color: #000000;
  box-shadow: inset 1px 1px 0 #C0C0C0;
}

.xp-input:focus {
  border-color: #0054E3;
  outline: none;
}

/* XP Dialog — classic dialog window */
.xp-dialog {
  background: var(--color-xp-face);
  border: 1px solid #0054E3;
  border-radius: 8px 8px 4px 4px;
  box-shadow: 3px 3px 12px rgba(0, 0, 0, 0.35);
  overflow: hidden;
}

/* XP Balloon — notification tooltip */
.xp-balloon {
  background: #FFFFE1;
  border: 1px solid #000000;
  border-radius: 5px;
  padding: 10px 14px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
  color: #000000;
  font-family: var(--font-xp);
  font-size: 11px;
  position: relative;
}

.xp-balloon::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 20px;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #FFFFE1;
}

.xp-balloon::before {
  content: '';
  position: absolute;
  bottom: -9px;
  left: 19px;
  width: 0;
  height: 0;
  border-left: 9px solid transparent;
  border-right: 9px solid transparent;
  border-top: 9px solid #000000;
}

/* XP Taskbar — blue gradient */
.xp-taskbar {
  background: linear-gradient(180deg, #1C5FA0 0%, #2B72B8 15%, #3C8AD0 50%, #2B72B8 85%, #245EDC 100%);
  border-top: 1px solid #0D4A8A;
}

/* XP Start Button — green */
.xp-start-button {
  background: linear-gradient(180deg, #3C943C 0%, #399639 30%, #277427 70%, #1E5C1E 100%);
  border: 1px solid #1E3C1E;
  border-radius: 0 8px 8px 0;
  padding: 2px 10px 2px 6px;
  color: #FFFFFF;
  font-family: var(--font-xp);
  font-weight: bold;
  font-size: 13px;
  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.4);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
  height: 30px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.xp-start-button:hover {
  background: linear-gradient(180deg, #4AA64A 0%, #43A643 30%, #2F8C2F 70%, #267626 100%);
}

.xp-start-button:active {
  background: linear-gradient(180deg, #277427 0%, #399639 100%);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* XP Primary Button — blue themed action button */
.xp-primary-button {
  font-family: var(--font-xp);
  font-size: 11px;
  background: linear-gradient(180deg, #FFFFFF 0%, #ECE9D8 45%, #D6D2C2 100%);
  border: 2px solid #003C74;
  border-radius: 3px;
  padding: 4px 20px;
  color: #000000;
  cursor: pointer;
  box-shadow: inset 0 1px 0 #FFFFFF;
  transition: all 0.1s;
}

.xp-primary-button:hover {
  border-color: #0054E3;
  background: linear-gradient(180deg, #FFFFFF 0%, #F0EDE1 45%, #DDD9C9 100%);
}

.xp-primary-button:active {
  background: linear-gradient(180deg, #D6D2C2 0%, #ECE9D8 100%);
  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.xp-primary-button:focus-visible {
  outline: 1px dotted #000000;
  outline-offset: -4px;
}

/* XP Window Control Buttons */
.xp-control-btn {
  width: 21px;
  height: 21px;
  border-radius: 3px;
  border: 1px solid rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.1s;
  background: linear-gradient(180deg, #3C8AFF 0%, #2468CC 50%, #1C5FA0 100%);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.xp-control-btn:hover {
  background: linear-gradient(180deg, #5CA0FF 0%, #3C8AFF 50%, #2B72B8 100%);
}

.xp-control-btn:active {
  background: linear-gradient(180deg, #1C5FA0 0%, #2468CC 100%);
  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.xp-control-btn-close {
  background: linear-gradient(180deg, #E88C6C 0%, #D84040 50%, #B02020 100%);
}

.xp-control-btn-close:hover {
  background: linear-gradient(180deg, #FFA080 0%, #E85050 50%, #C83030 100%);
}

.xp-control-btn-close:active {
  background: linear-gradient(180deg, #B02020 0%, #D84040 100%);
}

/* XP Title Bar — inactive/unfocused window */
.xp-titlebar-inactive {
  background: linear-gradient(180deg, #7A96DF 0%, #A4B8E4 4%, #7A96DF 48%, #A4B8E4 50%, #7A96DF 96%, #6B8AD5 100%);
  padding: 4px 6px;
  color: #D8D8D8;
  font-family: var(--font-xp-title);
  font-weight: bold;
  font-size: 13px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  display: flex;
  align-items: center;
  user-select: none;
  min-height: 26px;
}

/* XP Taskbar Window Buttons */
.xp-taskbar-button {
  background: linear-gradient(180deg, #3C8AD0 0%, #2B72B8 50%, #245EDC 100%);
  border: 1px solid #0D4A8A;
  border-radius: 3px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.xp-taskbar-button:hover {
  background: linear-gradient(180deg, #5CA0E0 0%, #3C8AD0 50%, #2B72B8 100%);
}

.xp-taskbar-button-active {
  background: linear-gradient(180deg, #1C4A80 0%, #2B5A98 50%, #1C4A80 100%);
  border: 1px solid #0D4A8A;
  border-radius: 3px;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* XP Desktop Icons */
.xp-desktop-icon:hover {
  background: rgba(49, 106, 197, 0.3);
}

.xp-desktop-icon:focus {
  background: rgba(49, 106, 197, 0.4);
  outline: 1px dotted rgba(255, 255, 255, 0.5);
}

/* === ANIMATIONS === */

/* Terminal cursor blink */
@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.cursor-blink {
  animation: cursor-blink 1s step-end infinite;
}

/* Glow effects */
@keyframes glow-pulse {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.glow-green {
  text-shadow: 0 0 10px rgba(57, 150, 57, 0.5);
}

.glow-red {
  text-shadow: 0 0 10px rgba(224, 64, 64, 0.5);
}

/* Score popup float animation */
@keyframes score-float {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-60px); opacity: 0; }
}

.score-float {
  animation: score-float 1.5s ease-out forwards;
}

/* Security flash overlay */
@keyframes security-flash {
  0% { opacity: 0; }
  15% { opacity: 0.3; }
  30% { opacity: 0; }
  45% { opacity: 0.2; }
  60% { opacity: 0; }
  100% { opacity: 0; }
}

.security-flash {
  animation: security-flash 1s ease-out forwards;
}

/* Notification slide in */
@keyframes slide-in-right {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

.slide-in-right {
  animation: slide-in-right 0.3s ease-out forwards;
}

@keyframes slide-out-right {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(100%); opacity: 0; }
}

.slide-out-right {
  animation: slide-out-right 0.3s ease-in forwards;
}

/* Typing indicator */
@keyframes typing-dot {
  0%, 60%, 100% { opacity: 0.3; }
  30% { opacity: 1; }
}

.typing-dot:nth-child(1) { animation: typing-dot 1.4s infinite 0s; }
.typing-dot:nth-child(2) { animation: typing-dot 1.4s infinite 0.2s; }
.typing-dot:nth-child(3) { animation: typing-dot 1.4s infinite 0.4s; }

/* Boot-up text reveal */
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

.typewriter {
  overflow: hidden;
  white-space: nowrap;
  animation: typewriter 0.5s steps(30) forwards;
}



/* Screen shake */
@keyframes screen-shake {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  10% { transform: translate(-2px, -1px) rotate(-0.3deg); }
  20% { transform: translate(3px, 1px) rotate(0.3deg); }
  30% { transform: translate(-1px, 2px) rotate(-0.2deg); }
  40% { transform: translate(2px, -1px) rotate(0.2deg); }
  50% { transform: translate(-2px, 1px) rotate(-0.1deg); }
  60% { transform: translate(1px, -1px) rotate(0.1deg); }
  70% { transform: translate(-1px, 1px) rotate(0deg); }
  80% { transform: translate(1px, 0px) rotate(0deg); }
}

.screen-shake {
  animation: screen-shake 0.5s ease-out;
}

/* Terminal reveal */
@keyframes terminal-reveal {
  from { max-height: 0; opacity: 0; }
  to { max-height: 500px; opacity: 1; }
}

.terminal-reveal {
  animation: terminal-reveal 0.15s ease-out forwards;
  overflow: hidden;
}

/* Resource meter glow */
@keyframes meter-pulse {
  0%, 100% { box-shadow: none; }
  50% { box-shadow: 0 0 8px currentColor; }
}

@keyframes meter-pulse-critical {
  0%, 100% { box-shadow: none; opacity: 1; }
  50% { box-shadow: 0 0 12px rgba(224, 64, 64, 0.6); opacity: 0.8; }
}

.meter-warning {
  animation: meter-pulse 2s ease-in-out infinite;
}

.meter-critical {
  animation: meter-pulse-critical 1s ease-in-out infinite;
}

/* NPC typing indicator */
@keyframes typing-bounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
}

.typing-bounce-1 { animation: typing-bounce 1.2s ease-in-out infinite 0s; }
.typing-bounce-2 { animation: typing-bounce 1.2s ease-in-out infinite 0.15s; }
.typing-bounce-3 { animation: typing-bounce 1.2s ease-in-out infinite 0.3s; }

/* Score sparkle particles */
@keyframes sparkle-scatter-1 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(-20px, -30px) scale(0); opacity: 0; }
}
@keyframes sparkle-scatter-2 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(15px, -35px) scale(0); opacity: 0; }
}
@keyframes sparkle-scatter-3 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(25px, -15px) scale(0); opacity: 0; }
}
@keyframes sparkle-scatter-4 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(-15px, -20px) scale(0); opacity: 0; }
}
@keyframes sparkle-scatter-5 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(8px, -40px) scale(0); opacity: 0; }
}
@keyframes sparkle-scatter-6 {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(-25px, -10px) scale(0); opacity: 0; }
}

.sparkle:nth-child(1) { animation: sparkle-scatter-1 0.8s ease-out forwards; }
.sparkle:nth-child(2) { animation: sparkle-scatter-2 0.8s ease-out forwards; }
.sparkle:nth-child(3) { animation: sparkle-scatter-3 0.8s ease-out forwards; }
.sparkle:nth-child(4) { animation: sparkle-scatter-4 0.8s ease-out forwards; }
.sparkle:nth-child(5) { animation: sparkle-scatter-5 0.8s ease-out forwards; }
.sparkle:nth-child(6) { animation: sparkle-scatter-6 0.8s ease-out forwards; }

/* Badge pop */
@keyframes badge-pop {
  0% { transform: scale(1); }
  40% { transform: scale(1.35); }
  100% { transform: scale(1); }
}

.badge-pop {
  animation: badge-pop 0.3s ease-out;
}

/* Request card entrance */
@keyframes slide-in-bounce {
  0% { transform: translateX(100%); opacity: 0; }
  60% { transform: translateX(-4px); opacity: 1; }
  80% { transform: translateX(2px); }
  100% { transform: translateX(0); }
}

.slide-in-bounce {
  animation: slide-in-bounce 0.4s ease-out forwards;
}

/* XP brand font — used for "Claws" branding across boot and welcome screens */
.font-xp-brand {
  font-family: 'Franklin Gothic Medium', 'Tahoma', sans-serif;
}

/* === XP BOOT SCREEN === */

/* Boot screen fade to black */
@keyframes xp-boot-fade-out {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

.xp-boot-fade-out {
  animation: xp-boot-fade-out 0.8s ease-in forwards;
}

/* Difficulty dialog fade in from black */
@keyframes xp-login-fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.xp-login-fade-in {
  animation: xp-login-fade-in 0.6s ease-out 0.3s both;
}

/* XP flag logo subtle glow */
@keyframes xp-flag-glow {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.15); }
}

.xp-flag-glow {
  animation: xp-flag-glow 3s ease-in-out infinite;
}

/* === XP WELCOME SCREEN === */

/* Welcome screen background - classic XP login gradient */
.xp-welcome-bg {
  background: linear-gradient(
    180deg,
    #0F2B5B 0%,
    #1A4080 8%,
    #2B60A8 20%,
    #3B78C0 35%,
    #4888D0 50%,
    #3B78C0 65%,
    #2B60A8 80%,
    #1A4080 92%,
    #0F2B5B 100%
  );
}

/* Welcome screen top/bottom bars */
.xp-welcome-bar {
  background: linear-gradient(180deg, #0A1F45 0%, #16355E 100%);
  border-top: 1px solid #0A1A3A;
  border-bottom: 1px solid #0A1A3A;
}

/* Welcome screen account row */
.xp-welcome-row {
  padding: 8px 16px;
  cursor: pointer;
  transition: background 0.15s;
  border-left: 3px solid transparent;
}

.xp-welcome-row:hover {
  background: rgba(255, 255, 255, 0.08);
  border-left-color: rgba(255, 255, 255, 0.4);
}

.xp-welcome-row:active {
  background: rgba(255, 255, 255, 0.12);
}

.xp-welcome-row:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.6);
  outline-offset: 2px;
}

/* Welcome separator between left/right panels */
.xp-welcome-separator {
  width: 2px;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(255, 255, 255, 0.15) 20%,
    rgba(255, 255, 255, 0.25) 50%,
    rgba(255, 255, 255, 0.15) 80%,
    transparent 100%
  );
}

/* === ACCESSIBILITY === */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0ms !important;
  }
}
